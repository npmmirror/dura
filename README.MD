# dura

[![Build Status](https://travis-ci.org/CN-YUANYU/dura.svg?branch=master)](https://travis-ci.org/CN-YUANYU/dura)
[![Coverage Status](https://img.shields.io/coveralls/CN-YUANYU/dura.svg?style=flat)](https://coveralls.io/github/CN-YUANYU/dura)
[![NPM version](https://img.shields.io/npm/v/@dura/plus.svg?style=flat)](https://www.npmjs.com/settings/dura/packages)
[![NPM downloads](http://img.shields.io/npm/dm/@dura/core.svg?style=flat)](https://npmjs.org/package/dva)
[![TypeScript](https://badges.frapsoft.com/typescript/version/typescript-next.svg?v=101)](https://github.com/ellerbrock/typescript-badges/)
[![MIT Licence](https://badges.frapsoft.com/os/mit/mit.svg?v=103)](https://opensource.org/licenses/mit-license.php)
[![lerna](https://img.shields.io/badge/maintained%20with-lerna-cc00ff.svg)](https://lernajs.io/)

åŸºäº [redux](https://github.com/reduxjs/redux) æ’ä»¶åŒ–ã€å¯æ‹”æ’ çš„å‰ç«¯æ•°æ®æµç®¡ç†æ¡†æ¶ (çµæ„Ÿæ¥æºäº [dva](https://github.com/dvajs/dva) ã€ [mirror](https://github.com/mirrorjs/mirror) å’Œ [rematch](https://github.com/rematch/rematch) ) ã€‚ ä¸“ä¸º [typescript](https://github.com/Microsoft/TypeScript) è€Œç”Ÿ

---

## ä¸ºä»€ä¹ˆä¼šæœ‰ dura ?

åœ¨ä¸šåŠ¡å¼€å‘å½“ä¸­ï¼Œæˆ‘å°è¯•è¿‡å¾ˆå¤šæµè¡Œçš„å‰ç«¯æ•°æ®æµçš„ç®¡ç†æ–¹æ¡ˆï¼Œä¾‹å¦‚ï¼š[dva](https://github.com/dvajs/dva) ã€ [mirror](https://github.com/mirrorjs/mirror) å’Œ [rematch](https://github.com/rematch/rematch) ï¼Œä½†æ˜¯å®é™…çš„ä½¿ç”¨æ•ˆæœå¹¶ä¸å¦‚æ„ ã€‚

### dva

- é‡æ„ç«è‘¬åœºï¼Œéš¾ä»¥å®‰å¿ƒçš„åˆ é™¤ effectã€reducerã€stateï¼Œå› ä¸ºæ‹…å¿ƒæœªçŸ¥çš„å¼•ç”¨
- ä½¿ç”¨çš„æ—¶å€™éœ€è¦é¢‘ç¹çš„åœ¨å¤šä¸ªæ–‡ä»¶ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œä»¥æ˜ç¡® action çš„ type å’Œ state çš„å–å€¼
- redux-saga é«˜æ˜‚çš„ä¸Šæ‰‹æˆæœ¬å·²ç»è¿œè¿œå¤§äºå®ƒèƒ½å¸¦æ¥çš„æ”¶ç›Š

### mirror

- è¿™å“¥ä»¬ç›´æ¥å¼ºç»‘äº† [react-router](https://github.com/ReactTraining/react-router) ï¼Œæˆ‘ä»¬æœ‰ [react-native](https://github.com/facebook/react-native) çš„é¡¹ç›®
- store ç›´æ¥æŒ‚åœ¨äº†å…¨å±€çš„ windows ä¸‹é¢ , å…¶å®ä¸Šå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦å¤šä¸ª store å¹¶å­˜çš„

### rematch

- å¯¹äº [typescript](https://github.com/Microsoft/TypeScript) çš„æ”¯æŒè¿˜ä¸é”™ï¼Œä½†æ˜¯ä¸å¤Ÿç²¾ç»†
- å¾ˆå¤šå®˜æ–¹æ’ä»¶ æ²¡æœ‰ [typescript](https://github.com/Microsoft/TypeScript) çš„ç±»å‹ç³»ç»Ÿ
- å¯¹äº reducerã€effect çš„å‚æ•°æç¤ºå®Œå…¨æ²¡æœ‰
- api çš„è®¾è®¡å¹¶ä¸æ˜¯å¾ˆå–œæ¬¢ï¼Œæœ‰äº›æ—¶å€™ç”¨èµ·æ¥è§‰å¾—å¾ˆå¥‡æ€ª

## dura æ‹¥æœ‰å“ªäº›èƒ½åŠ›ï¼Ÿ

- â“ **æç¤ºç³»ç»Ÿ**ï¼šå¼ºå¤§åˆ°ä½ æ€€ç–‘äººç”Ÿçš„æç¤ºç³»ç»Ÿã€ä½ åªéœ€è¦ä¸åœçš„çš„é¼ æ ‡ç‚¹ä¸‹å»å°±å¥½ã€‚
- ğŸ”¥ **é€ƒç¦»é‡æ„ç«è‘¬åœº**ï¼šé¡¹ç›®é‡æ„æ—¶ï¼Œä»£ç æƒ³åˆ å°±åˆ ï¼Œä¸ç”¨å»æ‹…å¿ƒæœªçŸ¥çš„å¼•ç”¨ã€‚
- ğŸ”Œ **æ’ä»¶æœºåˆ¶**ï¼šåŸºæœ¬ä¸Šèƒ½å¤Ÿå…¼å®¹æ•´ä¸ª redux ç”Ÿæ€ä¸­çš„å¸¸ç”¨åº“ã€‚
- ğŸ’° ** ä¸Šæ‰‹æˆæœ¬**ï¼šå¦‚æœä½ æŒæ¡ä¸Šé¢ä»»ä½•ä¸€ä¸ªæ¡†æ¶ï¼Œé‚£ä¹ˆå¯¹ä½ æ¥è¯´ dura å‡ ä¹é›¶æˆæœ¬

## ä¸ºä»€ä¹ˆ ä¸æ”¯æŒåŠ¨æ€ model ï¼Ÿ

å› ä¸ºåŠ¨æ€ model ä¼šç ´å dura çš„æç¤ºç³»ç»Ÿï¼Œè®©æç¤ºä¸å†ç²¾ç¡®ï¼Œ æˆ–è€…è¯´éœ€è¦äººä¸ºçš„å»æ§åˆ¶ä¸€äº›å› ç´ æ‰èƒ½è¾¾åˆ°ç²¾ç¡®çš„æç¤ºï¼Œæ‰€ä»¥æš‚æ—¶ä¸è€ƒè™‘æ”¯æŒåŠ¨æ€ modelï¼Œå…¶å®ä¹Ÿå¯ä»¥é€šè¿‡åŒ…ç®¡ç†çš„æ–¹æ¡ˆæ¥è¿›è¡Œæ›¿ä»£

---

## æ–‡æ¡£

### æ¦‚å¿µ

#### runner

runner æˆ‘å°†å®ƒç§°ä¹‹ä¸º **æ‰§è¡Œè€…** ï¼Œ ä¸€èˆ¬ä¸»è¦ç”¨æ¥æ‰§è¡Œç›¸å…³çš„ Action ï¼Œ å½“ç„¶ä¹Ÿæœ‰å¯èƒ½ç”¨æ¥å¹²å…¶ä»–çš„äº‹æƒ… ï¼Œ æ¯”å¦‚æ‰§è¡Œ reselect ã€‚æ‰€æœ‰çš„ runner ç»Ÿä¸€ä» duraStore ä¸­è·å– ï¼Œ å¦‚ä¸‹ï¼š

```TypeScript
//åˆ›å»ºduraStore
export const duraStore = create({
  initialModel,
  plugins: [createAsyncPlugin(), createLoadingPlugin(initialModel), createImmerPlugin(), createSelectorsPlugin()]
}) as DuraStore<RootModel> & AsyncDuraStore<RootModel> & SelectorsDuraStore<RootModel>;

// ä¸»è¦ç”¨æ¥æ‰§è¡Œ reducer
const reducerRunner = duraStore.reducerRunner;

// ä¸»è¦ç”¨æ¥æ‰§è¡Œ effect
const effectRunner = duraStore.effectRunner;


// ä¸»è¦ç”¨æ¥æ‰§è¡Œ selector
const selectorRunner = duraStore.selectorRunner;

```

- [@dura/core](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-core) åŒ…å« **reducerRunner** ï¼Œä¸»è¦ç”¨æ¥ æ‰§è¡Œ reducer
- [@dura/async](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-async) åŒ…å« **effectRunner** ï¼Œä¸»è¦ç”¨æ¥æ‰§è¡Œ effect
- [@dura/selectors](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-selectors) åŒ…å« **selectorRunner** ï¼Œ ä¸»è¦ç”¨æ¥æ‰§è¡Œ [reselect](https://github.com/reduxjs/reselect)

#### DuraStore ç±»å‹ç³»ç»Ÿ

é»˜è®¤æƒ…å†µä¸‹ [@dura/core](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-core) åŒ…å«æœ‰ä¸€ä¸ªé»˜è®¤çš„ç±»å‹ç³»ç»Ÿ

```typescript
type DuraStore<RM extends RootModel = any, ExtensionState = any> = Store<ExtractRootState<RM> & ExtensionState
```

è¯¥ç±»å‹ç³»ç»Ÿä¼šæŒ‡æ˜ DuraStore çš„æ ‡å‡†ç»“æ„ ï¼Œ **RootModel** æŒ‡çš„æ˜¯ä½ ä¼ å…¥çš„ initialModel çš„å…·ä½“ç±»å‹ ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ **typeof** ç›´æ¥è¿›è¡Œè·å– ï¼Œ ä¼ å…¥ initialModel çš„å…·ä½“ç±»å‹ çš„ç›®çš„æ˜¯ä¸ºäº†è®©ä½  åœ¨å¾—åˆ° store ä¹‹åä½¿ç”¨ getState() å‡½æ•°ä¹‹åèƒ½å¤Ÿè·å¾—è¿ç»­æ€§çš„æç¤ºã€‚

æˆ‘ä»¬æ³¨æ„åˆ° è¯¥ç±»å‹ç³»ç»Ÿä¸­è¿˜æœ‰ä¸€ä¸ªç±»å‹ å«åš **ExtensionState** ï¼Œ è¿™æ˜¯ä½œä¸ºè¡¥å……ä½¿ç”¨ï¼Œ æ—©æŸäº›åœºæ™¯ä¸‹ï¼ˆå‚ç…§ [@dura/async-loading](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-async-loading) æ’ä»¶çš„å®ç°ï¼‰, æˆ‘ä»¬å®é™…çš„ rootState ä¸ä»…ä»…åªåŒ…å«æˆ‘ä»¬çš„ä¸šåŠ¡ model ä¸­çš„ state ï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ ç±»å‹ç³»ç»Ÿè¿›è¡Œè¡¥å……ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆ™éœ€è¦ç”¨åˆ° **ExtensionState** , ä¾‹ï¼š

```typescript
const initialModel = {
  /**
   * ç”¨æˆ·æ¨¡å—
   */
  user: UserModel
};

export type RootModel = typeof initialModel;

const duraStore = create({
  initialModel,
  plugins: [createAsyncPlugin(), createLoadingPlugin(initialModel), createImmerPlugin(), createSelectorsPlugin()]
}) as DuraStore<RootModel> & AsyncDuraStore<RootModel> & SelectorsDuraStore<RootModel>;

// ç”±äºä¸Šé¢asäº† DuraStore ç±»å‹ç³»ç»Ÿ ï¼Œ æ‰€ä»¥æ­¤å¤„æœ‰æç¤º , å¯ä»¥æŒç»­çš„ ç‚¹ ä¸‹å»
duraStore.getState().user.name;

//æ­¤å¤„æ˜¯loadingæ’ä»¶æä¾›çš„ä¸€ä¸ªå†…ç½®model ï¼Œ å¹¶ä¸åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡model ä¸­ ï¼Œ
//æ˜¯ç”±äº AsyncDuraStore<RootModel> ç±»å‹ç³»ç»Ÿæ‰€ä»¥ä¾ç„¶èƒ½å¤Ÿç»™å‡ºä¸€ä¸ªæ¯”è¾ƒè‰¯å¥½çš„æç¤ºä¿¡æ¯
duraStore.getState().loading.onAsyncChangeName;
```

#### ExtractRootState ç±»å‹ç³»ç»Ÿ

ç”± [@dura/core](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-core) æä¾›

```typescript
type ExtractRootState<M extends RootModel>
```

è¯¥ç±»å‹ç³»ç»Ÿä¸»è¦ç”¨æ¥é€šè¿‡ä½ çš„ rootModel è§£æ„å‡º rootState çš„ç±»å‹è·¯å¾„ï¼Œ ä½¿ç”¨æ¡ˆä¾‹ï¼š

```typescript
type RootState = ExtractRootState<RootModel>;

function mapStateToProps(state: RootState) {
  return {
    name: state.user.name //æ­¤å¤„ä¼šæœ‰æ¯”è¾ƒè‰¯å¥½çš„æç¤ºå“¦
  };
}
```

#### ExtractReducersRunner ç±»å‹ç³»ç»Ÿ

åŠŸèƒ½ä¸ **ExtractRootState** ç›¸ä¼¼ï¼Œ åŒºåˆ«åœ¨äº **ExtractReducersRunner** æå–çš„æ˜¯ reducer çš„ä¿¡æ¯

### Api

#### create( config:Config ) : DuraStore

åˆ›å»º DuraStore çš„æ ¸å¿ƒæ–¹æ³• , å‚æ•°å¦‚ä¸‹

- ã€**å¿…ä¼ **ã€‘initialModel æ‰€æœ‰éœ€è¦è½½å…¥çš„ model
- ã€**å¯é€‰**ã€‘initialState å¯¹åº” [redux](https://github.com/reduxjs/redux) çš„ initialState
- ã€**å¯é€‰**ã€‘middlewares é¢å¤–çš„ä¸­é—´ä»¶ ï¼Œä¸ [redux](https://github.com/reduxjs/redux) ç”¨æ³•ç›¸åŒ
- ã€**å¯é€‰**ã€‘plugins æ’ä»¶åˆ—è¡¨

```typescript
const store = create({
  initialModel: {
    user: {
      state: {},
      reducers: {}
    }
  }
}) as DuraStore<RootModel>;
```

#### reducers è§„èŒƒ

ä¸ºäº†è®© ts èƒ½å¤Ÿæœ‰æ¯”è¾ƒå‹å¥½çš„æç¤ºä¿¡æ¯ï¼Œæˆ‘ä»¬å°† reducers è®¾è®¡æˆä¸¤å±‚å‡½æ•°çš„ç»“æ„ï¼Œ ä¹Ÿå°±æ˜¯é«˜é˜¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```typescript
const userModel = {
  state: {
    name: "é»˜è®¤"
  },
  reducers: {
    //ç¬¬ä¸€å±‚ ï¼Œ è¿™é‡Œçš„å‚æ•°è¡¨ç¤ºå¤–éƒ¨åœ¨è°ƒç”¨ä½ çš„æ—¶å€™éœ€è¦ä¼ å…¥çš„
    // ç¬¬ä¸€ä¸ªå‚æ•°ä¸€èˆ¬ä¸º action çš„payload
    // ç¬¬äºŒä¸ªå‚æ•°ä¸€èˆ¬ä¸º action çš„meta
    onChangeName(payload: { newName: string }) {
      //ç¬¬äºŒå±‚ ï¼Œ è¿™é‡Œçš„å‚æ•°æ˜¯duraæ³¨å…¥è¿›æ¥çš„ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯å½“å‰model çš„state
      return function(state: State): State {
        return { ...state, name: payload.newName };
      };
    }
  }
};
```

#### reducerRunner

å½“æˆ‘ä»¬æˆåŠŸåˆ›å»ºä¸€ä¸ª duraStore ä¹‹åï¼Œ åœ¨ duraStore ä¸­ä¼šè‡ªåŠ¨æŒ‚è½½ä¸€ä¸ª reducerRunner å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå¯¹è±¡å¯¼å‡ºï¼Œåœ¨å…¶ä»–åœ°æ–¹å¼•ç”¨ï¼Œè¯¥å¯¹è±¡å°±æ˜¯ä½ éœ€è¦é’ˆå¯¹ reducer å‘èµ· Action çš„æ—¶å€™ç”¨åˆ°çš„ ï¼Œ å…·ä½“ç”¨æ³•è¿™é‡Œå°±ä¸åšè¯´æ˜äº†ï¼Œ ts çš„æç¤ºç³»ç»Ÿä¼šå‘Šè¯‰ä½ æ€ä¹ˆåš

### å®˜æ–¹æ’ä»¶

- [@dura/plus](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-plus) æ•´åˆå…¨å®¶æ¡¶ä¹‹åçš„åŒ…ï¼Œå…é…ç½®
- [@dura/async](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-async) å¼‚æ­¥è¯·æ±‚å¤„ç†æ–¹æ¡ˆ
- [@dura/async-loading](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-async-loading) ä¾èµ– [dura-async](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-async) ä¸»è¦å®ç° auto-loading
- [@dura/immer](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-immer) æ”¯æŒ [immer](https://github.com/mweststrate/immer)
- [@dura/selectors](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-selectors) æ”¯æŒ [reselect](https://github.com/reduxjs/reselect) , æš‚æ—¶ä¸æ¨èä½¿ç”¨ **ï¼ˆåœæ­¢ç»´æŠ¤ï¼‰**

## ä¾‹å­

- [example-count](https://github.com/CN-YUANYU/dura/tree/master/example/example-count) ä¸€ä¸ªæœ€ç®€å•çš„è®¡æ•°å™¨ demoï¼Œæ²¡æœ‰ä½¿ç”¨ä»»ä½•æ’ä»¶
- [example-pro](https://github.com/CN-YUANYU/dura/tree/master/example/example-pro) æ¼”ç¤ºäº† dura å…¨å®¶æ¡¶çš„ä½¿ç”¨æ–¹å¼
- [example-rn](https://github.com/CN-YUANYU/dura/tree/master/example/examplern) react-native çš„ä¸€ä¸ªç®€å• demo
- [example-tarojs](https://github.com/CN-YUANYU/dura/tree/master/example/example-tarojs) é…åˆ [tarojs](https://github.com/NervJS/taro) å¼€å‘å¾®ä¿¡å°ç¨‹åº

**å¾é›†æ›´è¿‡çš„åŸºäº dura çš„é¡¹ç›®æ¡ˆä¾‹ï¼Œ å¯ç›´æ¥æä¾›åœ¨ issue å½“ä¸­**

## ä¸€ä¸ªç®€å•çš„æ•™ç¨‹

ä¸ºäº†è®©å¤§å®¶å°½å¯èƒ½çš„ç®€å•ä¸€äº›ä¸Šæ‰‹ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ•´åˆäº†æ‰€æœ‰å®˜æ–¹æ’ä»¶ä»¥åŠç±»å‹ç³»ç»Ÿçš„åº“ [@dura/plus](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-plus)ï¼ˆå…¶å®ç±»å‹ç³»ç»Ÿçš„é…ç½®å¯¹äºæ–°æ‰‹æ¥è¯´è¿˜æ˜¯å…·å¤‡ä¸€å®šçš„å¤æ‚åº¦çš„ï¼‰,ä¸‹é¢é€šè¿‡ jest å•å…ƒæµ‹è¯•å±•ç¤ºä¸€ä¸ªç®€å•çš„ demo æ•™ç¨‹

```typescript
it("ç®€å•çš„æµ‹è¯•", function(done) {
  const initialState = {
    name: undefined as string,
    sex: undefined as "ç”·" | "å¥³",
    age: undefined as number
  };

  type State = typeof initialState;

  const UserModel = {
    state: initialState,
    reducers: {
      onChangeName(payload: { name: string }) {
        return function(state: State) {
          state.name = payload.name;
          return state;
        };
      }
    },
    effects: {
      onAsyncChangeName(payload: { name: string }, meta?: LoadingMeta) {
        return async function(effectApi: EffectAPI<RootState>) {
          await effectApi.delay(1000);
          await effectRunner.address.onAsyncChangeCity({ city: "å—äº¬" });
          reducerRunner.user.onChangeName(payload);
        };
      }
    }
  };

  const initialAddressState = {
    detailName: undefined as string,
    city: undefined as string
  };

  type AddressState = typeof initialAddressState;

  const AddresModel = {
    state: initialAddressState,
    reducers: {
      onChangeCity(payload: { city: string }) {
        return function(state: AddressState) {
          state.city = payload.city;
          return state;
        };
      }
    },
    effects: {
      onAsyncChangeCity(payload: { city: string }) {
        return async function(effectApi: EffectAPI<RootState>) {
          await effectApi.delay(1000);
          reducerRunner.address.onChangeCity(payload);
        };
      }
    }
  };

  const initialModel = {
    user: UserModel,
    address: AddresModel
  };

  type RootState = PlusRootState<typeof initialModel>;

  const store = createDura(initialModel, {}) as PlusDuraStore<typeof initialModel>;

  const { reducerRunner, effectRunner } = store;

  effectRunner.user.onAsyncChangeName({ name: "å¼ ä¸‰" }, { loading: true });

  expect(store.getState().loading.user.onAsyncChangeName).toEqual(true);

  setTimeout(() => {
    expect(store.getState().loading.user.onAsyncChangeName).toEqual(false);
    expect(store.getState().user.name).toEqual("å¼ ä¸‰");
    expect(store.getState().address.city).toEqual("å—äº¬");
    done();
  }, 3000);
});
```

## ç‰ˆæœ¬æ›´æ–°æ—¥å¿—

- **ã€2019.02.06ã€‘** 1.0.0 ä¸»ä½“åŠŸèƒ½ä¸Šçº¿
- **ã€2019.02.06ã€‘** 1.0.1 ä¿®å¤å…³äº State ç±»å‹ç³»ç»Ÿä¸æ”¯æŒ boolean çš„é—®é¢˜ [511492c](https://github.com/CN-YUANYU/dura/commit/511492c1a17cc0688af62a09f3f154c7d17a3366)
- **ã€2019.02.06ã€‘** 1.0.2 ä¿®å¤å…³äº Selector ç±»å‹ç³»ç»Ÿä¸æ­£ç¡® çš„é—®é¢˜ [e41f5f2](https://github.com/CN-YUANYU/dura/commit/e41f5f2c6f709410c1a0687857b903ac1b190e51)
- **ã€2019.02.09ã€‘** 1.0.3 [@dura/plus](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-plus) ä¸­ç§»é™¤äº† selector æ–¹æ¡ˆ [f249a6a](https://github.com/CN-YUANYU/dura/commit/f249a6ac6165954808199fe047cd0e93e48d16c8)

  è€ƒè™‘åˆ°å…¶å®é›†æˆ selector æ–¹æ¡ˆå¹¶æ²¡æœ‰å¤ªå¤§çš„æ„ä¹‰ï¼Œåè€Œä¼šå¢åŠ æ–°æ‰‹å¯¹äº dura çš„ç†è§£æˆæœ¬ï¼Œæ‰€ä»¥å†³å®šå°†è¯¥æ–¹æ¡ˆä»[@dura/plus](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-plus)ä¸­è¿›è¡Œç§»é™¤ï¼Œåç»­å…¶å®ä¹Ÿä¸æ¨èä½¿ç”¨ [@dura/selectors](https://github.com/CN-YUANYU/dura/tree/master/packages/dura-selectors) æ’ä»¶ï¼Œå¹¶ä¸”è¯¥æ’ä»¶å°†ä¸ä¼šæä¾›ç‰ˆæœ¬è¿­ä»£ç»´æŠ¤ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨ [reselect](https://github.com/reduxjs/reselect)
